<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title id="pageTitle">Qazanc AZ</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="//libtl.com/sdk.js" data-zone="10024800" data-sdk="show_10024800"></script>
<style>
/* RÆNG SXEMÄ° DÆYÄ°ÅÄ°KLÄ°YÄ°: AÄ VÆ QIRMIZI */
:root{
  --bg-start:#ffffff; 
  --bg-end:#f0f0f0;   
  --card-bg:rgba(255,255,255,0.85); 
  --card-border:rgba(0,0,0,0.1);
  --btn-gradient-start:#FF416C; 
  --btn-gradient-end:#FF4B2B;   
  --btn-shadow:rgba(255,65,108,0.4); 
  --text-light:#ffffff;
  --text-dark:#1B1B1B;
  --accent:#FF0000; 
  --secondary-btn-gradient-start: #ffc371; 
  --secondary-btn-gradient-end: #ff5f6d; 
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,var(--bg-start),var(--bg-end));
  background-size:400% 400%;
  animation:bgMove 12s ease infinite;
  color:var(--text-dark);
  min-height:100vh;
  user-select:none;
  -webkit-user-select:none;
  -webkit-tap-highlight-color:transparent;
}
@keyframes bgMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* DÃœZÆLÄ°Å 3: YuxarÄ± boÅŸluÄŸu azaltmaq */
.container{max-width:480px;margin:auto;padding:20px;padding-top:20px;} 

/* DÄ°L SEÃ‡Ä°MÄ° (DROPDOWN STÄ°LÄ°) */
.lang-switcher-container {
    position: relative;
    display: flex;
    justify-content: flex-end; 
    margin-bottom: 20px;
}
.lang-current-btn {
    padding: 6px 10px;
    border: 1px solid var(--card-border);
    background: var(--card-bg);
    color: var(--text-dark);
    font-weight: 700;
    cursor: pointer;
    transition: 0.3s;
    border-radius: 10px;
    margin-left: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
}
/* DÃœZÆLÄ°Å 1: Ok iÅŸarÉ™si Ã¼Ã§Ã¼n mÉ™safÉ™ */
.lang-current-btn span {
    margin-right: 5px; 
}
.lang-current-btn:hover {
    box-shadow: 0 4px 15px rgba(255,0,0,0.2);
}
.lang-dropdown {
    position: absolute;
    top: 100%; 
    right: 0;
    margin-top: 5px;
    background: var(--card-bg);
    border-radius: 10px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    overflow: hidden;
    z-index: 10;
    min-width: 60px;
    display: none;
    backdrop-filter: blur(8px);
    border: 1px solid var(--card-border);
}
.lang-dropdown.show {
    display: block;
}
/* DÃœZÆLÄ°Å 1: Dropdown dÃ¼ymÉ™lÉ™rindÉ™ki artÄ±q boÅŸluÄŸu aradan qaldÄ±rmaq */
.lang-dropdown button {
    width: 100%;
    padding: 8px 15px;
    border: none;
    background: none;
    color: var(--text-dark);
    font-weight: 600;
    text-align: center; /* MÉ™rkÉ™zÉ™ gÉ™tirdik, ya da sol/saÄŸa align edÉ™ bilÉ™rsiniz */
    cursor: pointer;
    transition: background 0.2s;
    display: block; /* Tam geniÅŸliyi É™hatÉ™ etmÉ™k Ã¼Ã§Ã¼n */
}

.lang-dropdown button:hover, .lang-dropdown button.active {
    background: var(--accent);
    color: var(--text-light);
}
/* DÃœZÆLÄ°Å 1: SeÃ§ilmiÅŸ dildÉ™ boÅŸluqlarÄ± dÃ¼zÉ™ltmÉ™k Ã¼Ã§Ã¼n */
.lang-dropdown button {
    text-align: center; 
}

.page{display:none;animation:fadeIn .4s ease;}
.page.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}

/* Balans vÉ™ Kart DizaynÄ± */
.balance-card{
  background:var(--card-bg);
  border-radius:25px;
  padding:20px 18px;
  margin-bottom:20px;
  box-shadow:0 12px 40px rgba(0,0,0,0.25);
  backdrop-filter:blur(14px);
  text-align:center;
  border:1px solid var(--card-border);
  pointer-events:none;
}
.balance-card h3{font-size:16px;color:var(--accent);margin-bottom:8px;letter-spacing:0.5px;}
.balance-card .amount{font-size:32px;font-weight:700;margin-top:5px;color:var(--text-dark);text-shadow:0 2px 5px rgba(0,0,0,0.1);}
.balance-card .usd{font-size:14px;color:#555;margin-top:4px;}

/* Metod SiyahÄ±sÄ± */
.method-list{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0;justify-content:space-between;}
.method{
    flex:1 1 calc(50% - 10px);
    padding:14px;
    border-radius:14px;
    background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end)); 
    color:var(--text-light);
    text-align:center;
    font-weight:700;
    cursor:pointer;
    transition:0.3s;
    display:flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100px;
}
.method:hover{transform:scale(1.03);box-shadow:0 0 10px rgba(0,0,0,0.2);}
.method-logo{
    width: 50px;       
    height: 50px;      
    margin-bottom: 6px;
    border-radius: 8px; 
    object-fit: contain; 
    background-color: #fff;
    padding: 4px; 
}
.method-logo.bank-logo {
    border-radius: 6px; 
    padding: 2px;
}
.method-text {
    font-size: 14px;
}
.ad-card{background:var(--card-bg);border-radius:16px;padding:16px 18px;text-align:center;box-shadow:0 6px 20px rgba(0,0,0,0.25);backdrop-filter:blur(12px);border:1px solid var(--card-border);margin-bottom:12px;}
.ad-card h2{font-size:18px;color:var(--text-dark);margin-bottom:6px;}
.ad-card p{margin:4px 0;color:var(--text-dark);font-size:13px;}
.task-card{background:var(--card-bg);border-radius:14px;padding:12px 14px;text-align:center;box-shadow:0 4px 16px rgba(0,0,0,0.2);backdrop-filter:blur(12px);border:1px solid var(--card-border);margin-bottom:10px;}
.task-card h2{font-size:16px;color:var(--text-dark);margin-bottom:4px;}
.task-card p{margin:2px 0;color:var(--text-dark);font-size:12px;}
.task-card button{width:100%;margin-top:8px;padding:10px;font-size:13px;font-weight:700;border:none;border-radius:12px;background:linear-gradient(90deg,var(--secondary-btn-gradient-start),var(--secondary-btn-gradient-end)); 
    color:var(--text-light);cursor:pointer;transition:0.3s;}
.task-card button:hover{transform:scale(1.03);box-shadow:0 0 20px rgba(255,95,109,0.6);}
.task-card button.completed{background:gray !important;box-shadow:none !important;cursor:not-allowed !important;pointer-events:none !important;opacity:0.55;}
.stats{display:flex;justify-content:space-around;margin-top:12px;}
.stat{background:rgba(0,0,0,0.05);border-radius:10px;padding:10px 16px;}
.stat span{display:block;font-size:16px;font-weight:700;color:var(--text-dark);}
.stat label{font-size:11px;color:#666;}
.progress{height:10px;background:rgba(0,0,0,0.08);border-radius:6px;overflow:hidden;margin-top:12px;}
.progress-fill{height:100%;background:var(--accent);width:0%;transition:width .4s;} 
.ad-btn{width:100%;margin-top:12px;padding:12px;font-size:14px;font-weight:700;border:none;border-radius:14px;color:var(--text-light);cursor:pointer;transition:0.3s;background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));box-shadow:0 0 16px var(--btn-shadow);}
.ad-btn:hover:not(.waiting){transform:scale(1.03);box-shadow:0 0 20px var(--btn-shadow);}
.menu{position:fixed;bottom:15px;left:50%;transform:translateX(-50%);width:92%;display:flex;justify-content:space-around;background:rgba(255,255,255,0.15);padding:10px;border-radius:22px;box-shadow:0 6px 20px rgba(0,0,0,.3);}
.menu button{flex:1;margin:0 6px;padding:12px;border:none;border-radius:16px;background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));color:var(--text-light);font-weight:700;transition:0.3s;}
.menu button.active{background:linear-gradient(90deg,var(--secondary-btn-gradient-start),var(--secondary-btn-gradient-end));box-shadow:0 0 18px rgba(255,95,109,0.6);}
#form{display:none;margin-top:12px;}
#form input{width:100%;padding:12px;margin:6px 0;border-radius:12px;border:1px solid #ccc;}
#form button{width:100%;padding:14px;margin-top:8px;border:none;border-radius:14px;background:linear-gradient(90deg,var(--secondary-btn-gradient-start),var(--secondary-btn-gradient-end));color:var(--text-light);font-weight:700;cursor:pointer;}
.alert{margin-top:6px;padding:10px;border-radius:10px;display:none;}
.alert.error{background:#f8d7da;color:#842029;}
.alert.success{background:#d1e7dd;color:#0f5132;}

/* YENÄ°: Dinamik Timer Bar Ã¼Ã§Ã¼n CSS */
.timer-bar-container {
  height: 6px;
  width: 0%;
  border-radius: 4px;
  margin-top: 6px;
  transition: width 1s linear; /* GeniÅŸlÉ™nmÉ™yÉ™ yumÅŸaq keÃ§id */
}

#loadingScreen{position:fixed;top:0; left:0;width:100%; height:100%;background:radial-gradient(circle at 20% 20%, #4e4376, #2b5876 70%);display:flex;justify-content:center;align-items:center;z-index:99999;backdrop-filter:blur(6px);animation:fadeBg 6s linear infinite;transition:opacity .7s ease;}
@keyframes fadeBg{0%{filter:brightness(1);}50%{filter:brightness(1.3);}100%{filter:brightness(1);}}
.loader-box{text-align:center;animation:fadeIn .8s ease;position:relative;}
.shine-circle{position:absolute;width:220px; height:220px;top:-70px; left:50%;transform:translateX(-50%);background:radial-gradient(circle, rgba(255,255,255,0.35), transparent 80%);filter:blur(40px);animation:pulse 3s infinite ease-in-out;}
@keyframes pulse{0%,100%{opacity:.4;}50%{opacity:1;}}
.loader-title{font-size:40px;font-weight:900;color:#ff4b2b; letter-spacing:2px;text-shadow:0 0 12px #ff416c, 0 0 35px rgba(255,75,43,0.9);margin-bottom:32px;}
.loader-bar{width:300px;height:16px;border-radius:20px;background:rgba(255,255,255,0.15);overflow:hidden;position:relative;box-shadow:0 0 14px rgba(255,255,255,0.3);}
.loader-fill{height:100%;width:0%;border-radius:20px;background:linear-gradient(90deg,#ff8008,#ffc837,#ffd452); animation:fillAnim 3s forwards ease-in-out;}
@keyframes fillAnim{from{width:0%;}to{width:100%;}}
.glow{position:absolute;top:0; left:0;width:100%; height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.9),transparent);animation:shine 1.6s infinite;}
@keyframes shine{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
.loader-text{margin-top:14px;font-size:17px;color:#fff;letter-spacing:1px;animation:blink 1.4s infinite;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:.5;}}
</style>
</head>
<body>
<div id="loadingScreen">
  <div class="loader-box">
    <div class="shine-circle"></div>
    <div class="loader-title">Qazanc AZ</div>
    <div class="loader-bar">
      <div class="loader-fill"></div>
      <div class="glow"></div>
    </div>
    <div class="loader-text" data-translate-key="loading">YÃ¼klÉ™nir...</div>
  </div>
</div>

<div class="container">
  
  <div class="lang-switcher-container">
    <button class="lang-current-btn" onclick="toggleDropdown()">
        <span id="currentLangDisplay">AZ</span>
        <span id="langArrow"></span>
    </button>
    <div class="lang-dropdown" id="langDropdown">
        <button onclick="setLang('az')" id="langAzBtn">AZ</button>
        <button onclick="setLang('en')" id="langEnBtn">EN</button>
        <button onclick="setLang('tr')" id="langTrBtn">TR</button>
    </div>
  </div>
  <div id="adsPage" class="page active">
    <div class="balance-card">
      <h3 data-translate-key="currentBalance">Balans</h3>
      <div class="amount"><span id="balance">0.0000</span> â‚¼</div>
      <div class="usd">$<span id="balanceUSD">0.0000</span> USDT</div>
    </div>

    <div class="ad-card">
      <h2 data-translate-key="dailyAds">GÃ¼nlÃ¼k Reklamlar</h2>
      <p data-translate-key="adReward">HÉ™r reklama gÃ¶rÉ™ <b>0.005 â‚¼</b> qazanÄ±n</p>
      <div class="stats">
        <div class="stat"><span id="adsCount">0</span><label data-translate-key="watched">Ä°zlÉ™nÉ™n</label></div>
        <div class="stat"><span data-translate-key="maxCount">100</span><label data-translate-key="maximum">Maksimum</label></div>
      </div>
      <div class="progress"><div class="progress-fill" id="progress"></div></div>
      <p style="margin-top:6px;" data-translate-key="progressText">Ä°rÉ™lilÉ™yiÅŸ: <span id="progressTextSpan">0/100</span></p>
      <button id="adBtn" class="ad-btn" data-translate-key="watchAd">Reklam</button>
      <div id="msg"></div>
    </div>
  </div>

  <div id="tasksPage" class="page">
    <div class="task-card">
      <h2 data-translate-key="premiumTask">Premium TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward1">Kanala qoÅŸul vÉ™ <b>0.1 â‚¼</b> qazan!</p>
      <button id="joinBtn" data-translate-key="joinChannel">Kanala QoÅŸul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="bonusTask">Bonus TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward2">Qrupa qoÅŸul vÉ™ <b>0.1 â‚¼</b> qazan!</p>
      <button id="joinBtn2" data-translate-key="joinGroup">Qrupa QoÅŸul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="bonusTask">Bonus TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward3">Kanala qoÅŸul vÉ™ <b>0.15 â‚¼</b> qazan!</p>
      <button id="joinBtn3" data-translate-key="joinChannel">Kanala QoÅŸul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="sponsorTask">Sponsor TapÅŸÄ±rÄ±q</h2>
      <p data-translate-key="taskReward4">Kanala qoÅŸul vÉ™ <b>0.05 â‚¼</b> qazan!</p>
      <button id="joinBtn4" data-translate-key="joinChannel">Kanala QoÅŸul</button>
    </div>
  </div>

  <div id="walletPage" class="page">
    <div class="balance-card">
      <h3 data-translate-key="withdrawBalance">Balans</h3>
      <div class="amount"><span id="balance2">0.0000</span> â‚¼</div>
      <div class="usd">$<span id="balanceUSD2">0.0000</span> USDT</div>
    </div>
    <h2 style="text-align:center;margin-bottom:12px;color:#000000;" data-translate-key="withdrawTitle">Ã‡Ä±xarÄ±ÅŸ</h2>
    <div class="method-list" id="methods">
      
      <div class="method" data-type="m10">
          <img src="https://i.postimg.cc/Kj94hVNG/unnamed.png" alt="M10 Logo" class="method-logo">
          <span class="method-text">M10</span>
      </div>
      <div class="method" data-type="azercell">
          <img src="https://i.postimg.cc/qM5gmPqZ/applogo512.png" alt="Azercell Logo" class="method-logo">
          <span class="method-text">Azercell</span>
      </div>
      <div class="method" data-type="bakcell">
          <img src="https://i.postimg.cc/Pqmx5N49/images.jpg" alt="Bakcell Logo" class="method-logo">
          <span class="method-text">Bakcell</span>
      </div>
      <div class="method" data-type="nar">
          <img src="https://i.postimg.cc/4NmxhWPy/images.png" alt="Nar Logo" class="method-logo">
          <span class="method-text">Nar</span>
      </div>
      <div class="method" data-type="bank">
          <img src="https://i.postimg.cc/L6H0yWwZ/42492-bank-1024.png" alt="Bank Logo" class="method-logo bank-logo">
          <span class="method-text" data-translate-key="bankCard">Bank</span>
      </div>
      <div class="method" data-type="usdt">
          <img src="https://i.postimg.cc/X7HxsY98/Tether-USDT-Logo.png" alt="USDT Logo" class="method-logo">
          <span class="method-text">USDT</span>
      </div>
    </div>
    <div class="form" id="form">
      <button id="backBtn" style="background:none;border:none;color:var(--accent);font-weight:700;">â¬… <span data-translate-key="back">Geri</span></button>
      <input id="details" placeholder="">
      <input id="amount" type="number" placeholder="MÉ™blÉ™ÄŸ (AZN)">
      <button id="withdrawBtn" data-translate-key="withdraw">Ã‡Ä±xarÄ±ÅŸ Et</button>
      <div id="alert" class="alert"></div>
    </div>
  </div>

</div>

<div class="menu">
  <button onclick="showPage('adsPage',this)" class="active" data-translate-key="home">Ev</button>
  <button onclick="showPage('tasksPage',this)" data-translate-key="tasks">GÃ¶revler</button>
  <button onclick="showPage('walletPage',this)" data-translate-key="wallet">CÃ¼zdan</button>
</div>
<script>
// --- TÆRCÃœMÆ MÆLUMATLARI (DÄ°L SÃ–ZLÃœYÃœ) ---
const TRANSLATIONS = {
    'az': {
        pageTitle: 'Qazanc AZ',
        loading: 'YÃ¼klÉ™nir...',
        // DÃœZÆLÄ°Å 2: TÉ™rcÃ¼mÉ™ dÉ™yiÅŸikliklÉ™ri
        currentBalance: 'Balans',
        withdrawBalance: 'Balans',
        dailyAds: 'GÃ¼nlÃ¼k Reklamlar',
        adReward: 'HÉ™r reklama gÃ¶rÉ™ <b>0.005 â‚¼</b> qazanÄ±n',
        watched: 'Ä°zlÉ™nÉ™n',
        maximum: 'Maksimum',
        maxCount: '100',
        progressText: 'Ä°rÉ™lilÉ™yiÅŸ: ',
        watchAd: 'Reklam Ä°zle',
        adLimitReached: 'ğŸ“£ GÃ¼ndÉ™lik limitÉ™ Ã§atdÄ±nÄ±z!',
        watching: 'Ä°zlÉ™nir...',
        rewardAdded: 'âœ… +0.005 â‚¼ É™lavÉ™ olundu!',
        wait: 'â³ {s}s gÃ¶zlÉ™yin',
        premiumTask: 'Premium TapÅŸÄ±rÄ±q',
        bonusTask: 'Bonus TapÅŸÄ±rÄ±q',
        sponsorTask: 'Sponsor TapÅŸÄ±rÄ±q',
        taskReward1: 'Kanala qoÅŸul vÉ™ <b>0.1 â‚¼</b> qazan!',
        taskReward2: 'Qrupa qoÅŸul vÉ™ <b>0.1 â‚¼</b> qazan!',
        taskReward3: 'Kanala qoÅŸul vÉ™ <b>0.15 â‚¼</b> qazan!',
        taskReward4: 'Kanala qoÅŸul vÉ™ <b>0.05 â‚¼</b> qazan!',
        joinChannel: 'Kanala QoÅŸul',
        joinGroup: 'Qrupa QoÅŸul',
        withdrawTitle: 'Ã‡Ä±xarÄ±ÅŸ',
        bankCard: 'Bank KartÄ±',
        back: 'Geri',
        withdraw: 'Ã‡Ä±xarÄ±ÅŸ Et',
        methodError: 'Metod seÃ§in',
        detailsError: 'DetallarÄ± daxil edin',
        amountError: 'MÉ™blÉ™ÄŸi dÃ¼zgÃ¼n daxil edin',
        minAmount: 'Minimum mÉ™blÉ™ÄŸ {min} AZN',
        balanceError: 'Balans kifayÉ™t etmir',
        withdrawSuccess: 'âœ… Ã‡Ä±xarÄ±ÅŸ gÃ¶ndÉ™rildi! 48 saat É™rzindÉ™ yerinÉ™ yetirilÉ™cÉ™k.',
        home: 'Ev',
        tasks: 'GÃ¶revler',
        wallet: 'CÃ¼zdan',
        placeholderDetails_m10: '10 rÉ™qÉ™mli nÃ¶mrÉ™',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16 rÉ™qÉ™mli kart nÃ¶mrÉ™si',
        placeholderDetails_usdt: 'TON adresi',
        placeholderAmount: 'MÉ™blÉ™ÄŸ (AZN)',
        completed: 'TamamlandÄ±',
    },
    'en': {
        pageTitle: 'Qazanc AZ',
        loading: 'Loading...',
        // DÃœZÆLÄ°Å 2: TÉ™rcÃ¼mÉ™ dÉ™yiÅŸikliklÉ™ri
        currentBalance: 'Balance',
        withdrawBalance: 'Balance',
        dailyAds: 'Daily Ads',
        adReward: 'Earn <b>0.005 â‚¼</b> for each ad',
        watched: 'Watched',
        maximum: 'Maximum',
        maxCount: '100',
        progressText: 'Progress: ',
        watchAd: 'Watch Ad',
        adLimitReached: 'ğŸ“£ Daily limit reached!',
        watching: 'Watching...',
        rewardAdded: 'âœ… +0.005 â‚¼ added!',
        wait: 'â³ Wait {s}s',
        premiumTask: 'Premium Task',
        bonusTask: 'Bonus Task',
        sponsorTask: 'Sponsor Task',
        taskReward1: 'Join channel and earn <b>0.1 â‚¼</b>!',
        taskReward2: 'Join group and earn <b>0.1 â‚¼</b>!',
        taskReward3: 'Join channel and earn <b>0.15 â‚¼</b>!',
        taskReward4: 'Join channel and earn <b>0.05 â‚¼</b>!',
        joinChannel: 'Join Channel',
        joinGroup: 'Join Group',
        withdrawTitle: 'Withdrawal',
        bankCard: 'Bank Card',
        back: 'Back',
        withdraw: 'Withdraw',
        methodError: 'Select a method',
        detailsError: 'Enter details',
        amountError: 'Enter correct amount',
        minAmount: 'Minimum amount {min} AZN',
        balanceError: 'Insufficient balance',
        withdrawSuccess: 'âœ… Withdrawal sent! It will be executed within 48 hours.',
        home: 'Home',
        tasks: 'Tasks',
        wallet: 'Wallet',
        placeholderDetails_m10: '10 digit M10 number',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16 digit card number',
        placeholderDetails_usdt: 'TON address',
        placeholderAmount: 'Amount (AZN)',
        completed: 'Completed',
    },
    'tr': {
        pageTitle: 'Kazan AZ',
        loading: 'YÃ¼kleniyor...',
        // DÃœZÆLÄ°Å 2: TÉ™rcÃ¼mÉ™ dÉ™yiÅŸikliklÉ™ri
        currentBalance: 'Bakiye',
        withdrawBalance: 'Bakiye',
        dailyAds: 'GÃ¼nlÃ¼k Reklamlar',
        adReward: 'Her reklam iÃ§in <b>0.005 â‚¼</b> kazanÄ±n',
        watched: 'Ä°zlenen',
        maximum: 'Maksimum',
        maxCount: '100',
        progressText: 'Ä°lerleme: ',
        watchAd: 'Reklam Ä°zle',
        adLimitReached: 'ğŸ“£ GÃ¼nlÃ¼k sÄ±nÄ±ra ulaÅŸtÄ±nÄ±z!',
        watching: 'Ä°zleniyor...',
        rewardAdded: 'âœ… +0.005 â‚¼ eklendi!',
        wait: 'â³ {s}sn bekleyin',
        premiumTask: 'Premium GÃ¶rev',
        bonusTask: 'Bonus GÃ¶rev',
        sponsorTask: 'Sponsor GÃ¶revi',
        taskReward1: 'Kanala katÄ±l ve <b>0.1 â‚¼</b> kazan!',
        taskReward2: 'Gruba katÄ±l ve <b>0.1 â‚¼</b> kazan!',
        taskReward3: 'Kanala katÄ±l ve <b>0.15 â‚¼</b> kazan!',
        taskReward4: 'Kanala katÄ±l ve <b>0.05 â‚¼</b> kazan!',
        joinChannel: 'Kanala KatÄ±l',
        joinGroup: 'Gruba KatÄ±l',
        withdrawTitle: 'Para Ã‡ekme',
        bankCard: 'Banka KartÄ±',
        back: 'Geri',
        withdraw: 'Para Ã‡ek',
        methodError: 'YÃ¶ntem seÃ§in',
        detailsError: 'Bilgileri girin',
        amountError: 'MiktarÄ± doÄŸru girin',
        minAmount: 'Minimum miktar {min} AZN',
        balanceError: 'Yetersiz bakiye',
        withdrawSuccess: 'âœ… Ã‡ekim talebi gÃ¶nderildi! 48 saat iÃ§inde tamamlanacaktÄ±r.',
        home: 'Ana Sayfa',
        tasks: 'GÃ¶revler',
        wallet: 'CÃ¼zdan',
        placeholderDetails_m10: '10 haneli M10 numarasÄ±',
        placeholderDetails_azercell: '050xxxxxxx',
        placeholderDetails_bakcell: '055xxxxxxx',
        placeholderDetails_nar: '070xxxxxxx',
        placeholderDetails_bank: '16 haneli kart numarasÄ±',
        placeholderDetails_usdt: 'TON adresi',
        placeholderAmount: 'Miktar (AZN)',
        completed: 'TamamlandÄ±',
    }
};

let currentLang = localStorage.getItem('lang') || 'az';

const LIMIT = 100, REWARD = 0.005;
const BAL_KEY='bal',COUNT_KEY='cnt',RESET_KEY='resetTime';
const JOIN_KEY='joined',JOIN_KEY2='joined2',JOIN_KEY3='joined3',JOIN_KEY4='joined4';

function safeGet(k,d=0){try{return JSON.parse(localStorage.getItem(k))??d;}catch{return d;}}
function safeSet(k,v){try{localStorage.setItem(k,JSON.stringify(v));}catch(e){}}

let bal=parseFloat(safeGet(BAL_KEY,0));
let cnt=parseInt(safeGet(COUNT_KEY,0));
let resetTime=safeGet(RESET_KEY,null);

function getNextResetTime(){
  const now=new Date();
  const AZ_OFFSET=4;
  let resetUTC=new Date(Date.UTC(
    now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),
    23-AZ_OFFSET,0,0,0
  ));
  if(now.getTime()>resetUTC.getTime()){resetUTC.setUTCDate(resetUTC.getUTCDate()+1);}
  return resetUTC.getTime();
}

if(!resetTime||Date.now()>resetTime){
  cnt=0;
  resetTime=getNextResetTime();
  safeSet(RESET_KEY,resetTime);
  safeSet(COUNT_KEY,cnt);
}

function update(){
  document.getElementById('balance').textContent=bal.toFixed(4);
  document.getElementById('balance2').textContent=bal.toFixed(4);
  const usdt=bal/1.7; 
  document.getElementById('balanceUSD').textContent=usdt.toFixed(4);
  document.getElementById('balanceUSD2').textContent=usdt.toFixed(4);
  document.getElementById('adsCount').textContent=cnt;
  document.getElementById('progress').style.width=(cnt/LIMIT*100)+'%';
  const progressTextSpan = document.getElementById('progressTextSpan');
  if(progressTextSpan) progressTextSpan.textContent = `${cnt}/${LIMIT}`;
  safeSet(BAL_KEY,bal);
  safeSet(COUNT_KEY,cnt);
}

function updateTaskButtons() {
    const completedText = TRANSLATIONS[currentLang].completed;
    [JOIN_KEY, JOIN_KEY2, JOIN_KEY3, JOIN_KEY4].forEach((key, index) => {
        const btnId = `joinBtn${index > 0 ? index : ''}`;
        const btn = document.getElementById(btnId);
        if (!btn) return;
        
        if (localStorage.getItem(key)){
            btn.classList.add('completed');
            btn.textContent = completedText;
            btn.disabled=true; 
        } else {
             btn.classList.remove('completed');
             btn.disabled=false; 
             const key = btn.getAttribute('data-translate-key');
             if(TRANSLATIONS[currentLang][key]) {
                 btn.textContent = TRANSLATIONS[currentLang][key];
             }
        }
    });
}

function setPlaceholders(methodType) {
    const t = TRANSLATIONS[currentLang];
    const detailsKey = `placeholderDetails_${methodType}`;
    const amountKey = `placeholderAmount`;

    details.placeholder = t[detailsKey] || '';
    amount.placeholder = t[amountKey] || 'MÉ™blÉ™ÄŸ (AZN)';
}

function applyTranslations(lang) {
    const t = TRANSLATIONS[lang];
    if (!t) return;

    document.getElementById('pageTitle').textContent = t.pageTitle;
    document.getElementById('currentLangDisplay').textContent = lang.toUpperCase(); 
    
    // DÃœZÆLÄ°Å 1: Ok iÅŸarÉ™sini cari dilin yanÄ±nda gÃ¶stÉ™r
    document.getElementById('langArrow').textContent = 'â¬‡ï¸'; 

    // Aktiv dil dÃ¼ymÉ™sini dropdown-da qeyd et
    document.getElementById('langAzBtn').classList.remove('active');
    document.getElementById('langEnBtn').classList.remove('active');
    document.getElementById('langTrBtn').classList.remove('active');
    
    const langBtnId = `lang${lang.charAt(0).toUpperCase() + lang.slice(1)}Btn`;
    const activeBtn = document.getElementById(langBtnId);
    if(activeBtn) {
        activeBtn.classList.add('active');
    }

    document.querySelectorAll('[data-translate-key]').forEach(el => {
        const key = el.getAttribute('data-translate-key');
        if (t[key]) {
            el.innerHTML = t[key];
        }
    });

    const progressTextSpan = document.getElementById('progressTextSpan');
    if(progressTextSpan) {
        progressTextSpan.textContent = `${cnt}/${LIMIT}`;
    }
    
    updateTaskButtons(); 

    document.querySelectorAll('.menu button').forEach(button => {
        const key = button.getAttribute('data-translate-key');
        if (key && t[key]) {
            button.textContent = t[key];
        }
    });
}

// YENÄ°: AÃ§Ä±lan menyu funksiyasÄ±
function toggleDropdown() {
    const dropdown = document.getElementById('langDropdown');
    dropdown.classList.toggle('show');
    // Dropdown baÄŸlananda ok iÅŸarÉ™sini sil, aÃ§Ä±lÄ±nca gÃ¶stÉ™r
    document.getElementById('langArrow').textContent = dropdown.classList.contains('show') ? 'â¬‡ï¸' : '';
}

function setLang(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    
    // SeÃ§im edildikdÉ™n sonra oxu gizlÉ™t, menyu baÄŸlanacaq
    document.getElementById('langArrow').textContent = ''; 
    
    applyTranslations(lang);
    toggleDropdown(); // SeÃ§im edildikdÉ™n sonra baÄŸla
    
    if (document.getElementById('form').style.display === 'block') {
        setPlaceholders(type);
    }
}

// Reklam dÃ¼ymÉ™si FunksiyasÄ±
const adBtn=document.getElementById('adBtn'), msg=document.getElementById('msg');
adBtn.onclick=()=>{
  const t = TRANSLATIONS[currentLang];
  if(cnt>=LIMIT){ msg.textContent=t.adLimitReached; return; }
  adBtn.disabled=true; adBtn.classList.add('waiting');
  
  // Timer bar konteynerini yenidÉ™n yaradÄ±rÄ±q ki, dinamik rÉ™ng dÉ™yiÅŸikliyi iÅŸlÉ™sin.
  // HTML-dÉ™ki mÃ¶vcud timer bar-Ä± (qÄ±rmÄ±zÄ±) silib yenisini É™lavÉ™ edirik.
  msg.innerHTML=`<span>${t.watching}</span><div id="timerBar" class="timer-bar-container"></div>`;
  
  try{if(typeof show_10024800==='function'){show_10024800();}}catch(e){} 
  
  setTimeout(()=>{
    bal+=REWARD; cnt++; update(); 
    
    let s=10; // Geri sayÄ±m saniyÉ™si
    const rewardText = t.rewardAdded; // MÃ¼kafat mÉ™tnini saxlayÄ±rÄ±q
    
    const tInterval=setInterval(()=>{
      s--;
      const timerBar=document.getElementById('timerBar');
      
      if(timerBar){
          // RÆNGBÆRÆNG VÆ PARILTILI EFFEKT
          // 0-dan 360-a qÉ™dÉ™r rÉ™ng spektrini É™hatÉ™ edir
          const hue = (10 - s) * 36; 
          const color = `hsl(${hue}, 85%, 50%)`; // YÃ¼ksÉ™k parlaqlÄ±q vÉ™ doyÄŸunluq
          
          timerBar.style.width=`${(10-s)/10*100}%`;
          timerBar.style.background=color; 
          timerBar.style.boxShadow = `0 0 8px ${color}`; // Dinamik parÄ±ltÄ± effekti
      }
      
      // Geri sayÄ±m mÉ™tnini yenilÉ™yirik
      const waitMsg = t.wait.replace('{s}', s);
      msg.innerHTML=`<span>${waitMsg}</span><div id="timerBar" class="timer-bar-container" style="width: ${(10-s)/10*100}%; background: ${timerBar ? timerBar.style.background : 'initial'}; box-shadow: ${timerBar ? timerBar.style.boxShadow : 'initial'};"></div>`;
      
      // SaniyÉ™ bitdikdÉ™
      if(s<=0){
        clearInterval(tInterval);
        adBtn.disabled=false;
        adBtn.classList.remove('waiting');
        msg.innerHTML=rewardText; // MÃ¼kafat mÉ™tnini gÃ¶stÉ™r
        
        // Timer bar-Ä± mÃ¼kafat mÉ™tnindÉ™n sonra tÉ™mizlÉ™
        setTimeout(() => {
             msg.textContent = '';
        }, 3000); 
      }
    },1000);
  },2500); // 2.5 saniyÉ™ gecikmÉ™ reklamÄ±n gÃ¶stÉ™rilmÉ™si Ã¼Ã§Ã¼n
};

// TapÅŸÄ±rÄ±qlar FunksiyalarÄ±
const taskButtons = [
    { id: 'joinBtn', key: JOIN_KEY, reward: 0.1, url: 'https://t.me/qazancazicmasi' },
    { id: 'joinBtn2', key: JOIN_KEY2, reward: 0.1, url: 'https://t.me/qazancazchat' },
    { id: 'joinBtn3', key: JOIN_KEY3, reward: 0.15, url: 'https://t.me/turaldevelopers' },
    { id: 'joinBtn4', key: JOIN_KEY4, reward: 0.05, url: 'https://t.me/ads_reklam69' }
];

taskButtons.forEach(task => {
    const btn = document.getElementById(task.id);
    if (!btn) return;
    
    // TapÅŸÄ±rÄ±q tamamlanÄ±bsa dÃ¼ymÉ™ni sÄ±radan Ã§Ä±xar
    if(localStorage.getItem(task.key)){
        btn.classList.add('completed');
        btn.disabled=true;
    }
    
    btn.onclick=()=>{
        if(localStorage.getItem(task.key))return;
        bal+=task.reward;
        safeSet(BAL_KEY,bal);
        localStorage.setItem(task.key,'1');
        btn.classList.add('completed');
        btn.disabled=true;
        window.open(task.url,'_blank');
        update();
        updateTaskButtons();
    };
});

// SÉ™hifÉ™ NaviqasiyasÄ±
function showPage(id, btn){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

// CÃ¼zdan Ã§Ä±xarÄ±ÅŸ sistemi
const methods = document.querySelectorAll('.method');
const form = document.getElementById('form');
const details = document.getElementById('details');
const amount = document.getElementById('amount');
const alertBox = document.getElementById('alert');
let type = '';

const min = { m10:10, azercell:10, bakcell:10, nar:10, bank:10, usdt:17 };

methods.forEach(m=>{
  m.onclick=()=>{
    type=m.dataset.type;
    document.getElementById('methods').style.display='none';
    form.style.display='block';
    setPlaceholders(type);
    details.value='';
    amount.value='';
    alertBox.style.display='none';
  };
});

document.getElementById('backBtn').onclick=()=>{
  form.style.display='none';
  document.getElementById('methods').style.display='flex';
  alertBox.style.display='none';
  type='';
};

document.getElementById('withdrawBtn').onclick=()=>{
  const det = details.value.trim();
  const amt = parseFloat(amount.value);
  alertBox.style.display='none';
  const t = TRANSLATIONS[currentLang];

  if(!type){ showErr(t.methodError); return; }
  if(!det){ showErr(t.detailsError); return; }
  if(isNaN(amt) || amt <= 0){ showErr(t.amountError); return; }
  if(amt < min[type]){ showErr(t.minAmount.replace('{min}', min[type])); return; }
  if(amt > bal){ showErr(t.balanceError); return; }

  // Ã‡Ä±xarÄ±ÅŸÄ±n gÃ¶ndÉ™rilmÉ™si simulyasiyasÄ±
  bal -= amt;
  safeSet(BAL_KEY,bal);
  update();

  alertBox.textContent=t.withdrawSuccess;
  alertBox.className='alert success';
  alertBox.style.display='block';

  // FormanÄ± baÄŸla vÉ™ metodlarÄ± geri gÃ¶stÉ™r
  setTimeout(()=>{
    form.style.display='none';
    document.getElementById('methods').style.display='flex';
    alertBox.style.display='none';
    type='';
  }, 2000);
  
};

function showErr(msg){
  alertBox.textContent=msg;
  alertBox.className='alert error';
  alertBox.style.display='block';
}

// --- Ä°LKÄ°N YÃœKLÆNMÆ VÆ LOADING SCREEN MÆNTÄ°QÄ° ---

// FunksionallÄ±ÄŸÄ± yÃ¼klÉ™
update();
applyTranslations(currentLang); 

// Loading Screen-i 3 saniyÉ™dÉ™n sonra baÄŸla
setTimeout(()=>{
  const s=document.getElementById("loadingScreen");
  s.style.opacity="0";
  setTimeout(()=>s.style.display="none",700);
},3000);
</script>
</body>
</html>
